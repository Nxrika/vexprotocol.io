<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vex Protocol - On-Chain Volatility Oracle</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        :root {
            --bg-primary: #0a0b0f;
            --bg-secondary: #111318;
            --bg-tertiary: #1a1d26;
            --accent-primary: #2563eb;
            --accent-secondary: #7c3aed;
            --text-primary: #f8fafc;
            --text-secondary: #94a3b8;
            --text-muted: #64748b;
            --border-color: #2d3748;
            --gradient: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background-color: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
            scroll-behavior: smooth;
        }

        .animated-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 80%, rgba(37, 99, 235, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(124, 58, 237, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(37, 99, 235, 0.05) 0%, transparent 50%);
            animation: gradientShift 8s ease-in-out infinite;
            z-index: -1;
        }

        @keyframes gradientShift {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }

        /* Navigation */
        .navbar {
            position: fixed;
            top: 0;
            width: 100%;
            padding: 1rem 0;
            background: rgba(10, 11, 15, 0.8);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--border-color);
            z-index: 1000;
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .nav-logo .logo-text {
            font-size: 1.5rem;
            font-weight: 700;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .nav-menu {
            display: flex;
            gap: 2rem;
        }

        .nav-link {
            color: var(--text-secondary);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s ease;
            position: relative;
        }

        .nav-link:hover {
            color: var(--text-primary);
        }

        .nav-link::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--gradient);
            transition: width 0.3s ease;
        }

        .nav-link:hover::after {
            width: 100%;
        }

        /* Hero Section */
        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            padding: 0 2rem;
            max-width: 1200px;
            margin: 0 auto;
            gap: 4rem;
        }

        .hero-content {
            flex: 1;
            animation: slideUp 1s ease-out;
        }

        .hero-badge {
            display: inline-block;
            background: rgba(37, 99, 235, 0.1);
            border: 1px solid var(--accent-primary);
            border-radius: 20px;
            padding: 0.5rem 1rem;
            margin-bottom: 2rem;
        }

        .badge-text {
            color: var(--accent-primary);
            font-size: 0.875rem;
            font-weight: 600;
        }

        .hero-title {
            font-size: 3.5rem;
            font-weight: 700;
            line-height: 1.1;
            margin-bottom: 1.5rem;
        }

        .gradient-text {
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero-description {
            font-size: 1.25rem;
            color: var(--text-secondary);
            margin-bottom: 3rem;
            max-width: 500px;
        }

        .hero-buttons {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 1rem 2rem;
            border-radius: 12px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
            font-size: 1rem;
        }

        .btn-primary {
            background: var(--gradient);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(37, 99, 235, 0.3);
        }

        .btn-secondary {
            background: var(--bg-tertiary);
            color: var(--text-primary);
            border: 1px solid var(--border-color);
        }

        .btn-secondary:hover {
            background: var(--bg-secondary);
            transform: translateY(-2px);
        }

        .hero-visual {
            flex: 1;
            position: relative;
        }

        .chart-container {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            padding: 2rem;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Sections */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        section {
            padding: 6rem 0;
        }

        .section-header {
            text-align: center;
            margin-bottom: 4rem;
        }

        .section-header h2 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .section-header p {
            font-size: 1.25rem;
            color: var(--text-secondary);
        }

        /* CVX Section */
        .cvx-section {
            background: var(--bg-secondary);
        }

        .cvx-widget {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 2rem;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            padding: 3rem;
            max-width: 400px;
            margin: 0 auto;
        }

        .cvx-value .value {
            font-size: 3rem;
            font-weight: 700;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .cvx-value .label {
            display: block;
            color: var(--text-secondary);
            font-size: 1rem;
        }

        .cvx-change {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-weight: 600;
        }

        .cvx-change.positive {
            color: #10b981;
        }

        /* Tech Grid */
        .tech-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .tech-card {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            padding: 2rem;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .tech-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .tech-icon {
            font-size: 2rem;
            margin-bottom: 1rem;
        }

        .tech-card h3 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }

        .tech-card p {
            color: var(--text-secondary);
        }

        /* Docs Section */
        .docs-section {
            background: var(--bg-secondary);
        }

        .docs-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
        }

        .doc-card {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            padding: 2rem;
            text-align: center;
            transition: transform 0.3s ease;
        }

        .doc-card:hover {
            transform: translateY(-5px);
        }

        .doc-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .doc-card h3 {
            margin-bottom: 1rem;
        }

        .doc-card p {
            color: var(--text-secondary);
            margin-bottom: 1.5rem;
        }

        /* Community Section */
        .community-section {
            text-align: center;
        }

        .community-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .stat-card {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            padding: 2rem;
        }

        .stat-value {
            font-size: 2.5rem;
            font-weight: 700;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
        }

        .stat-label {
            color: var(--text-secondary);
        }

        .social-links {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-top: 2rem;
        }

        .social-link {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 1rem 2rem;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            color: var(--text-primary);
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .social-link:hover {
            background: var(--accent-primary);
            transform: translateY(-2px);
        }

        /* CTA Section */
        .cta-section {
            background: var(--gradient);
            color: white;
            text-align: center;
        }

        .cta-content h2 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .cta-content p {
            font-size: 1.25rem;
            margin-bottom: 2rem;
            opacity: 0.9;
        }

        .cta-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .cta-section .btn {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .cta-section .btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        /* Footer */
        .footer {
            background: var(--bg-secondary);
            border-top: 1px solid var(--border-color);
            padding: 3rem 0 1rem;
        }

        .footer-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }

        .footer-links {
            display: flex;
            gap: 2rem;
        }

        .social-link-footer {
            color: var(--text-secondary);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .social-link-footer:hover {
            color: var(--text-primary);
        }

        .footer-bottom {
            text-align: center;
            padding-top: 2rem;
            border-top: 1px solid var(--border-color);
            color: var(--text-muted);
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(10, 11, 15, 0.95);
            backdrop-filter: blur(10px);
            z-index: 2000;
            overflow-y: auto;
        }

        .modal-content {
            background: var(--bg-secondary);
            margin: 2rem auto;
            border-radius: 16px;
            width: 90%;
            max-width: 900px;
            border: 1px solid var(--border-color);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);
            overflow: hidden;
            animation: modalSlideIn 0.3s ease-out;
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.5rem 2rem;
            border-bottom: 1px solid var(--border-color);
            background: var(--bg-tertiary);
        }

        .modal-title {
            font-size: 1.5rem;
            font-weight: 700;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .close-btn {
            background: none;
            border: none;
            color: var(--text-secondary);
            font-size: 1.5rem;
            cursor: pointer;
            transition: color 0.3s ease;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
        }

        .close-btn:hover {
            color: var(--text-primary);
            background: rgba(255, 255, 255, 0.1);
        }

        .litepaper-content {
            padding: 2rem;
            max-height: 70vh;
            overflow-y: auto;
        }

        .litepaper-section {
            margin-bottom: 2.5rem;
        }

        .litepaper-section h2 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: var(--text-primary);
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 0.5rem;
        }

        .litepaper-section h3 {
            font-size: 1.2rem;
            margin: 1.5rem 0 0.75rem;
            color: var(--accent-primary);
        }

        .litepaper-section p {
            margin-bottom: 1rem;
            color: var(--text-secondary);
        }

        .litepaper-section ul {
            margin-left: 1.5rem;
            margin-bottom: 1rem;
        }

        .litepaper-section li {
            margin-bottom: 0.5rem;
            color: var(--text-secondary);
        }

        .phase-list {
            margin-top: 1rem;
        }

        .phase-item {
            background: var(--bg-tertiary);
            border-left: 3px solid var(--accent-primary);
            padding: 1rem;
            margin-bottom: 1rem;
            border-radius: 0 8px 8px 0;
        }

        .phase-item h4 {
            margin-bottom: 0.5rem;
            color: var(--text-primary);
        }

        .download-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: var(--bg-tertiary);
            color: var(--text-primary);
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 500;
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
            margin-top: 1rem;
            cursor: pointer;
        }

        .download-btn:hover {
            background: var(--accent-primary);
            transform: translateY(-2px);
        }

        /* Hidden PDF Template */
        #pdf-template {
            position: absolute;
            left: -9999px;
            top: -9999px;
            width: 210mm;
            min-height: 297mm;
            padding: 20mm;
            background: white;
            color: black;
            font-family: Arial, sans-serif;
            line-height: 1.6;
        }

        .pdf-header {
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 2px solid #2563eb;
            padding-bottom: 15px;
        }

        .pdf-header h1 {
            font-size: 28px;
            color: #2563eb;
            margin-bottom: 10px;
        }

        .pdf-header .subtitle {
            font-size: 16px;
            color: #666;
        }

        .pdf-section {
            margin-bottom: 25px;
            page-break-inside: avoid;
        }

        .pdf-section h2 {
            font-size: 20px;
            color: #2563eb;
            margin-bottom: 15px;
            border-bottom: 1px solid #eee;
            padding-bottom: 8px;
        }

        .pdf-section h3 {
            font-size: 16px;
            color: #333;
            margin: 15px 0 10px;
        }

        .pdf-section p {
            margin-bottom: 12px;
            font-size: 12px;
        }

        .pdf-section ul, .pdf-section ol {
            margin-left: 20px;
            margin-bottom: 15px;
        }

        .pdf-section li {
            margin-bottom: 8px;
            font-size: 12px;
        }

        .pdf-phase {
            background: #f8f9fa;
            border-left: 4px solid #2563eb;
            padding: 12px;
            margin-bottom: 12px;
            border-radius: 0 4px 4px 0;
        }

        .pdf-phase h4 {
            color: #2563eb;
            margin-bottom: 5px;
            font-size: 14px;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .hero {
                flex-direction: column;
                text-align: center;
                padding-top: 6rem;
            }
            
            .hero-title {
                font-size: 2.5rem;
            }
            
            .nav-menu {
                display: none;
            }
            
            .modal-content {
                width: 95%;
                margin: 1rem auto;
            }
            
            .litepaper-content {
                padding: 1.5rem;
            }
            
            .footer-content {
                flex-direction: column;
                gap: 2rem;
                text-align: center;
            }
            
            .tech-grid, .docs-grid, .community-stats {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Animated Background -->
    <div class="animated-bg"></div>
    
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <span class="logo-text">VEX</span>
            </div>
            <div class="nav-menu">
                <a href="#home" class="nav-link">Home</a>
                <a href="#cvx" class="nav-link">CVX Index</a>
                <a href="#technology" class="nav-link">Technology</a>
                <a href="#docs" class="nav-link">Docs</a>
                <a href="#community" class="nav-link">Community</a>
            </div>
        </div>
    </nav>

    <!-- Home Section -->
    <section id="home" class="hero">
        <div class="hero-content">
            <div class="hero-badge">
                <span class="badge-text">LIVE ON ARBITRUM</span>
            </div>
            <h1 class="hero-title">
                The On-Chain
                <span class="gradient-text">Volatility Oracle</span>
            </h1>
            <p class="hero-description">
                Vex delivers the first crypto-native VIX ‚Äî the market's on-chain "fear gauge." 
                Build sophisticated derivatives with real-time volatility data.
            </p>
            <div class="hero-buttons">
                <button id="openLitepaper" class="btn btn-primary">
                    <span>View Litepaper</span>
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                        <path d="M6 12L10 8L6 4" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </button>
                <a href="#cvx" class="btn btn-secondary">
                    Live CVX Dashboard
                </a>
            </div>
        </div>
        <div class="hero-visual">
            <div class="chart-container">
                <canvas id="volatilityChart"></canvas>
            </div>
        </div>
    </section>

    <!-- CVX Index Section -->
    <section id="cvx" class="cvx-section">
        <div class="container">
            <div class="section-header">
                <h2>Live Crypto Volatility Index (CVX)</h2>
                <p>Real-time market fear gauge, computed on-chain</p>
            </div>
            <div class="cvx-widget">
                <div class="cvx-value">
                    <span class="value">42.67</span>
                    <span class="label">CVX Index</span>
                </div>
                <div class="cvx-change positive">
                    <span class="arrow">‚Üó</span>
                    <span class="change">+2.34</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Technology Section -->
    <section id="technology" class="tech-section">
        <div class="container">
            <div class="section-header">
                <h2>Built for DeFi's Future</h2>
                <p>Advanced methodology meets blockchain resilience</p>
            </div>
            <div class="tech-grid">
                <div class="tech-card">
                    <div class="tech-icon">üìä</div>
                    <h3>MFIV Methodology</h3>
                    <p>Model-Free Implied Volatility adapted for crypto markets, using Deribit, Lyra, and perp futures data.</p>
                </div>
                <div class="tech-card">
                    <div class="tech-icon">üõ°Ô∏è</div>
                    <h3>Manipulation Resistant</h3>
                    <p>Multi-source data aggregation and on-chain computation prevent single-point manipulation.</p>
                </div>
                <div class="tech-card">
                    <div class="tech-icon">‚ö°</div>
                    <h3>Real-time Updates</h3>
                    <p>CVX index updates continuously, providing accurate volatility pricing for derivatives.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Docs Section -->
    <section id="docs" class="docs-section">
        <div class="container">
            <div class="section-header">
                <h2>Documentation & Resources</h2>
                <p>Everything you need to start building with Vex</p>
            </div>
            <div class="docs-grid">
                <div class="doc-card">
                    <div class="doc-icon">üìö</div>
                    <h3>Litepaper</h3>
                    <p>Complete technical overview of the Vex Protocol and CVX methodology</p>
                    <button class="btn btn-primary" onclick="openLitepaper()">Read Litepaper</button>
                </div>
                <div class="doc-card">
                    <div class="doc-icon">üîß</div>
                    <h3>API Documentation</h3>
                    <p>Technical reference for integrating CVX data into your applications</p>
                    <button class="btn btn-secondary" disabled>Coming Soon</button>
                </div>
                <div class="doc-card">
                    <div class="doc-icon">üìä</div>
                    <h3>Live Dashboard</h3>
                    <p>Real-time visualization of CVX index data and market metrics</p>
                    <button class="btn btn-secondary" disabled>View Dashboard</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Community Section -->
    <section id="community" class="community-section">
        <div class="container">
            <div class="section-header">
                <h2>Join Our Community</h2>
                <p>Connect with builders, validators, and the Vex team</p>
            </div>
            <div class="community-stats">
                <div class="stat-card">
                    <div class="stat-value">2.4K+</div>
                    <div class="stat-label">Community Members</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">150+</div>
                    <div class="stat-label">Active Validators</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">24/7</div>
                    <div class="stat-label">Index Updates</div>
                </div>
            </div>
            <div class="social-links">
                <a href="#" class="social-link">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723 10.016 10.016 0 01-3.127 1.184 4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/>
                    </svg>
                    Twitter
                </a>
                <a href="#" class="social-link">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm4.441 16.892c-2.102.144-6.784.144-8.883 0C5.282 16.736 5.017 15.622 5 12c.017-3.629.285-4.736 2.558-4.892 2.099-.144 6.782-.144 8.883 0C18.718 7.264 18.982 8.378 19 12c-.018 3.629-.285 4.736-2.559 4.892zM10 9.658l4.917 2.338L10 14.342V9.658z"/>
                    </svg>
                    Telegram
                </a>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="cta-section">
        <div class="container">
            <div class="cta-content">
                <h2>Ready to Build the Future of DeFi Derivatives?</h2>
                <p>Integrate the CVX index and unlock sophisticated volatility-based products.</p>
                <div class="cta-buttons">
                    <button class="btn btn-primary" onclick="openLitepaper()">Read Documentation</button>
                    <a href="#community" class="btn btn-secondary">Join Community</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <span class="logo-text">VEX</span>
                    <p>The On-Chain Volatility Oracle</p>
                </div>
                <div class="footer-links">
                    <a href="#" class="social-link-footer">Twitter</a>
                    <a href="#" class="social-link-footer">Telegram</a>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 Vex Protocol. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Litepaper Modal -->
    <div id="litepaperModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Vex Protocol Litepaper</h2>
                <button class="close-btn">&times;</button>
            </div>
            <div class="litepaper-content">
                <!-- Litepaper content remains the same as before -->
                <div class="litepaper-section">
                    <h2>1. Introduction: The Volatility Gap in DeFi</h2>
                    <p>Digital asset markets have matured at an incredible pace, but there's still a critical piece missing: a reliable, transparent source for implied volatility data. Traditional finance has long depended on volatility indices like the VIX to price derivatives, assess market stress, and create hedging strategies. DeFi operates without this essential benchmark.</p>
                    <p>While existing price oracles show where the market stands today, they don't capture forward-looking volatility expectations. This leaves builders without the foundational metric needed for mature derivatives markets. Vex solves this by delivering a complete on-chain volatility standard purpose-built for decentralized finance.</p>
                </div>

                <div class="litepaper-section">
                    <h2>2. The Vex Protocol: System Architecture</h2>
                    <p>Vex introduces a decentralized volatility oracle that calculates and publishes the CVX Index directly on-chain. By aggregating data from major liquidity sources across options and perpetual futures markets, Vex constructs a market-driven measure of implied volatility that reflects true market expectations.</p>
                    <p>The protocol delivers a robust, manipulation-resistant standard that developers can trust when building advanced derivative products, hedging strategies, structured yield systems, or risk management tools. Vex serves as essential infrastructure for the next generation of decentralized derivatives.</p>
                </div>

                <!-- Additional sections remain the same -->
                <button id="downloadPdf" class="download-btn">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                        <path d="M14 10v4a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-4M8 11V1m0 10L5 8m3 3l3-3"/>
                    </svg>
                    Download PDF Version
                </button>
            </div>
        </div>
    </div>

    <!-- Hidden PDF Template -->
    <div id="pdf-template">
        <!-- PDF content remains the same as before -->
    </div>

    <script>
        // Initialize jsPDF
        const { jsPDF } = window.jspdf;

        // Modal functionality
        const modal = document.getElementById('litepaperModal');
        const openBtn = document.getElementById('openLitepaper');
        const closeBtn = document.querySelector('.close-btn');
        const downloadBtn = document.getElementById('downloadPdf');

        // Open modal function
        function openLitepaper() {
            modal.style.display = 'block';
            document.body.style.overflow = 'hidden';
        }

        // Open modal
        openBtn.addEventListener('click', openLitepaper);

        // Close modal
        closeBtn.addEventListener('click', () => {
            modal.style.display = 'none';
            document.body.style.overflow = 'auto';
        });

        // Close modal when clicking outside content
        window.addEventListener('click', (e) => {
            if (e.target === modal) {
                modal.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
        });

        // Close modal with Escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && modal.style.display === 'block') {
                modal.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
        });

        // Generate PDF
        downloadBtn.addEventListener('click', generatePDF);

        function generatePDF() {
            // Show loading state
            downloadBtn.innerHTML = '<span>Generating PDF...</span>';
            downloadBtn.disabled = true;

            // Create PDF instance
            const doc = new jsPDF({
                orientation: 'portrait',
                unit: 'mm',
                format: 'a4'
            });

            // Set PDF metadata
            doc.setProperties({
                title: 'Vex Protocol Litepaper',
                subject: 'CVX Volatility Index Documentation',
                author: 'Vex Protocol',
                keywords: 'defi, volatility, oracle, crypto, vex, cvx',
                creator: 'Vex Protocol'
            });

            // Add content to PDF
            const pdfContent = document.getElementById('pdf-template');
            
            // Use html2canvas to capture the content
            html2canvas(pdfContent, {
                scale: 2,
                useCORS: true,
                logging: false,
                width: pdfContent.scrollWidth,
                height: pdfContent.scrollHeight
            }).then(canvas => {
                const imgData = canvas.toDataURL('image/png');
                const imgWidth = 210; // A4 width in mm
                const pageHeight = 295; // A4 height in mm
                const imgHeight = canvas.height * imgWidth / canvas.width;
                let heightLeft = imgHeight;
                let position = 0;

                // Add first page
                doc.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);
                heightLeft -= pageHeight;

                // Add additional pages if content is too long
                while (heightLeft >= 0) {
                    position = heightLeft - imgHeight;
                    doc.addPage();
                    doc.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);
                    heightLeft -= pageHeight;
                }

                // Save the PDF
                doc.save('Vex_Protocol_Litepaper.pdf');

                // Reset button state
                downloadBtn.innerHTML = `
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                        <path d="M14 10v4a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-4M8 11V1m0 10L5 8m3 3l3-3"/>
                    </svg>
                    Download PDF Version
                `;
                downloadBtn.disabled = false;
            }).catch(error => {
                console.error('Error generating PDF:', error);
                
                // Reset button state
                downloadBtn.innerHTML = `
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                        <path d="M14 10v4a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-4M8 11V1m0 10L5 8m3 3l3-3"/>
                    </svg>
                    Download PDF Version
                `;
                downloadBtn.disabled = false;
            });
        }

        // Simple chart animation
        const chartCanvas = document.getElementById('volatilityChart');
        if (chartCanvas) {
            const ctx = chartCanvas.getContext('2d');
            
            // Set canvas size
            chartCanvas.width = chartCanvas.offsetWidth;
            chartCanvas.height = chartCanvas.offsetHeight;
            
            function drawChart() {
                const width = chartCanvas.width;
                const height = chartCanvas.height;
                const padding = 40;
                
                ctx.clearRect(0, 0, width, height);
                
                // Draw grid
                ctx.strokeStyle = 'rgba(255, 255, 255, 0.1)';
                ctx.lineWidth = 1;
                
                // Vertical lines
                for (let i = 0; i <= 5; i++) {
                    const x = padding + (i * (width - 2 * padding) / 5);
                    ctx.beginPath();
                    ctx.moveTo(x, padding);
                    ctx.lineTo(x, height - padding);
                    ctx.stroke();
                }
                
                // Horizontal lines
                for (let i = 0; i <= 5; i++) {
                    const y = padding + (i * (height - 2 * padding) / 5);
                    ctx.beginPath();
                    ctx.moveTo(padding, y);
                    ctx.lineTo(width - padding, y);
                    ctx.stroke();
                }
                
                // Draw data line
                ctx.strokeStyle = '#2563eb';
                ctx.lineWidth = 3;
                ctx.beginPath();
                
                const dataPoints = [30, 45, 35, 50, 40, 55, 42];
                const xStep = (width - 2 * padding) / (dataPoints.length - 1);
                
                dataPoints.forEach((point, index) => {
                    const x = padding + (index * xStep);
                    const y = height - padding - ((point - 20) / 40) * (height - 2 * padding);
                    
                    if (index === 0) {
                        ctx.moveTo(x, y);
                    } else {
                        ctx.lineTo(x, y);
                    }
                });
                
                ctx.stroke();
                
                // Draw points
                dataPoints.forEach((point, index) => {
                    const x = padding + (index * xStep);
                    const y = height - padding - ((point - 20) / 40) * (height - 2 * padding);
                    
                    ctx.fillStyle = '#2563eb';
                    ctx.beginPath();
                    ctx.arc(x, y, 4, 0, 2 * Math.PI);
                    ctx.fill();
                });
            }
            
            drawChart();
            window.addEventListener('resize', drawChart);
        }

        // Update CVX value with slight animation
        function animateCVXValue() {
            const cvxValue = document.querySelector('.cvx-value .value');
            if (cvxValue) {
                const currentValue = parseFloat(cvxValue.textContent);
                const fluctuation = (Math.random() - 0.5) * 2; // -1 to +1
                const newValue = Math.max(30, Math.min(70, currentValue + fluctuation));
                
                cvxValue.style.transform = 'scale(1.1)';
                setTimeout(() => {
                    cvxValue.textContent = newValue.toFixed(2);
                    cvxValue.style.transform = 'scale(1)';
                }, 150);
            }
        }
        
        // Update every 5 seconds to simulate live data
        setInterval(animateCVXValue, 5000);
    </script>
</body>
</html>
